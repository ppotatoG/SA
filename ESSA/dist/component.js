import{a as e,c as t}from"./_commonjsHelpers.js";import r from"react";var s={};const n={saNodes:[],threshold:.1,setThreshold:function(e){if("string"==typeof e){if(""===(e=e.trim()))return console.warn("threshold value is empty, using default value 0.1"),.1;if(!isFinite(Number(e)))return console.warn(`invalid threshold value "${e}", using default value 0.1`),.1;e=Number(e)}return"number"!=typeof e?(console.warn(`invalid threshold value "${e}", using default value 0.1`),.1):(e>1&&(console.warn(`threshold value "${e}" cannot be greater than 1, using maximum value 1`),e=1),e)},intersection:function(){if(n.saNodes&&n.saNodes.length)for(const e of n.saNodes)a.observe(e)},init:function(e){void 0!==e&&(n.threshold=n.setThreshold(e)),n.intersection()}},a=new IntersectionObserver((e=>{e.forEach((e=>{const t=e.target;if(!(t instanceof HTMLDivElement))return!1;"false"===t.dataset.saOnce?e.isIntersecting?t.classList.add("saShow"):!e.isIntersecting&&t.classList.contains("saShow")&&t.classList.remove("saShow"):e.isIntersecting&&(t.classList.add("saShow"),a.unobserve(t))}))}),{threshold:n.threshold});var o=e(Object.freeze({__proto__:null,ESSA:n})),i=t&&t.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,n)}:function(e,t,r,s){void 0===s&&(s=r),e[s]=t[r]}),l=t&&t.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=t&&t.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return l(t,e),t};Object.defineProperty(s,"__esModule",{value:!0});const c=u(r),d=o;var f=s.default=({type:e,duration:t,delay:r,timing:s,once:n,className:a,children:o})=>{const i=(0,c.useRef)(null);return(0,c.useEffect)((()=>{var a;const o=i.current;if(!o)return;const l=n?"false":"true";return o.setAttribute("data-sa",`${e}`),o.setAttribute("data-sa-duration",`${t}`),o.setAttribute("data-sa-delay",`${r}`),o.setAttribute("data-sa-time",`${s}`),o.setAttribute("data-sa-once",l),null===(a=d.ESSA.saNodes)||void 0===a||a.push(o),d.ESSA.intersection(),()=>{var e;d.ESSA.saNodes=null===(e=d.ESSA.saNodes)||void 0===e?void 0:e.filter((e=>e!==o))}}),[e,t,r,s,n]),c.default.createElement("div",{className:`saBox ${a}`,ref:i},o)};export{f as default};
