import e,{useRef as t,useEffect as s}from"react";const a={saNodes:[],threshold:.1,setThreshold:function(e){"string"==typeof e&&(""===(e=e.trim())&&(console.warn("threshold value is empty, using default value 0.1"),e=.1),isFinite(Number(e))||(console.warn(`invalid threshold value "${e}", using default value 0.1`),e=.1),e=Number(e)),"number"!=typeof e&&(console.warn(`invalid threshold value "${e}", using default value 0.1`),e=.1),e>1?(console.warn(`threshold value "${e}" cannot be greater than 1, using maximum value 1`),e=1):e<0&&(console.warn(`threshold value "${e}" cannot be less than 0, using minimum value 0`),e=0),a.threshold=e},intersection:function(){if(a.saNodes&&a.saNodes.length)for(const e of a.saNodes)n.observe(e)},init:function(e){if(!a.saNodes||0===a.saNodes.length)throw new Error("No matching elements found");void 0!==e&&a.setThreshold(e),a.intersection()}},n=new IntersectionObserver((e=>{e.forEach((e=>{const t=e.target;if(!(t instanceof HTMLDivElement))return!1;"true"!==t.dataset.saOnce?e.isIntersecting?t.classList.add("saShow"):!e.isIntersecting&&t.classList.contains("saShow")&&t.classList.remove("saShow"):e.isIntersecting&&(t.classList.add("saShow"),n.unobserve(t))}))}),{threshold:a.threshold}),o=({type:n,duration:o,delay:r,timing:i,once:l,className:d,children:u})=>{const c=t(null);return s((()=>{var e;const t=c.current;if(!t)return;const s=l?"false":"true";return t.setAttribute("data-sa",`${n}`),t.setAttribute("data-sa-duration",`${o}`),t.setAttribute("data-sa-delay",`${r}`),t.setAttribute("data-sa-time",`${i}`),t.setAttribute("data-sa-once",s),null===(e=a.saNodes)||void 0===e||e.push(t),a.intersection(),()=>{var e;a.saNodes=null===(e=a.saNodes)||void 0===e?void 0:e.filter((e=>e!==t))}}),[n,o,r,i,l]),e.createElement("div",{className:`saBox ${d}`,ref:c},u)};export{o as default};
